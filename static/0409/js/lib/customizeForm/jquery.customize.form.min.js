/* jquery.customize.form.js v1.0.0 MIT license (c) 2016 silver0r */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ellipsis.min","modernizr-latest"],a):"object"==typeof exports?module.exports=a(require("jquery"),require("jquery.ellipsis.min"),require("modernizr-latest")):a(jQuery)}(function(a){"use strict";function b(){this._pluginInfo=g}function c(b,c){return this.defaults={width:15,height:15,labelMarginRight:10,labelPaddingLeft:10,backgroundColor:"#fff",backgroundImage:"../css/img/img_checkbox.png",backgroundImage2x:"../css/img/img_checkbox@2x.png",type:"image",color:"#000",selectedColor:"#fff",disableColor:"#838383",selectedBackgroundColor:"#000",disableBackgroundColor:"#f4f4f4",borderColor:"#000",selectedBorderColor:"#000",disableBorderColor:"#adb2b5",borderRadius:5},this.$element=b,this.options=a.extend({},this.defaults,c),this.init()}function d(b,c){return this.defaults={width:16,height:16,labelMarginRight:10,labelPaddingLeft:10,backgroundColor:"#fff",backgroundImage:"../css/img/img_checkbox.png",backgroundImage2x:"../css/img/img_checkbox@2x.png",type:"image",color:"#000",selectedColor:"#fff",disableColor:"#838383",selectedBackgroundColor:"#000",disableBackgroundColor:"#f4f4f4",borderColor:"#000",selectedBorderColor:"#000",disableBorderColor:"#adb2b5",borderRadius:5},this.$element=b,this.options=a.extend({},this.defaults,c),this.init()}function e(b,c){return this._pluginInfo=g,this.defaults={buttonType:"text",buttonText:"파일열기",buttonBackgroundImage:"../css/img/img_find_btn01.jpg",buttonSpriteClass:"btn_file01",buttonWidth:70,buttonSpacing:10,buttonBackgroundColor:"#707070",buttonTextColor:"#fff",textWidth:190,textPaddingVertical:0,textPaddingHorizontal:5,textBorder:"1px #c8c8c8 solid",verticalSpacing:10,ellipsisPosition:"middle",height:30,enableInitButton:!1,initButtonBackgroundImage:"../css/img/img_close_btn01.png"},this._$oldElement=b,this.options=a.extend({},this.defaults,c),this.init()}function f(b,c){return this._pluginInfo=g,this.defaults={width:90,paddingHorizontal:15,height:30,fontSize:12,color:"#a0a0a0",disableColor:"#d0d0d1",hoverColor:"#fc5d2a",initClass:"custom-form-select01",focusClass:"custom-form-focused01",disableClass:"custom-form-disabled01"},this.$element=b,this.options=a.extend({},this.defaults,c),this.init()}var g={name:"jquery.customize.form",version:"1.0"};b.prototype.init=function(){var b=this,c=null,d=null;return this._draw(),this.$element.each(function(e){d=a(this),c=d.next("label"),b._initStatus(d,c),b._event(d,c)})},b.prototype._draw=function(){var b=null;"text"===this.options.type?b={width:this.options.width+"px",height:this.options.height+"px",lineHeight:this.options.height+"px",borderWidth:"1px",borderStyle:"solid",borderColor:this.options.borderColor,borderRadius:this.options.borderRadius+"px",marginRight:this.options.labelMarginRight+"px",backgroundColor:this.options.backgroundColor,color:this.options.color,display:"inline-block","*display":"inline","*zoom":"1",verticalAlign:"middle",textAlign:"center",zIndex:100,cursor:"pointer"}:(b={height:this.options.height+"px",lineHeight:this.options.height+"px",marginRight:this.options.labelMarginRight+"px",paddingLeft:this.options.width+this.options.labelPaddingLeft+"px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundColor:this.options.backgroundColor,display:"inline-block","*display":"inline","*zoom":"1",verticalAlign:"middle",zIndex:100,cursor:"pointer"},"undefined"!=typeof Modernizr&&Modernizr.backgroundsize?(b.backgroundImage='url("'+this.options.backgroundImage2x+'")',b.backgroundSize=this.options.backgroundSize):b.backgroundImage='url("'+this.options.backgroundImage+'")'),"block"===this.options.display&&(b.display=this.options.display,delete b["*display"],delete b["*zoom"]);var c=parseInt(this.options.width);a.isNumeric(c)&&-1===c&&delete b.width,this.$element.next("label").css(b);var d=1;this.$element.css({marginLeft:d+"px",marginRight:-(this.options.width+d)+"px",width:this.options.width+"px",height:this.options.height+"px",zIndex:0})},b.prototype._initStatus=function(a,b){var c=null;a.prop("disabled")&&a.prop("checked")?c="on_disabled":a.prop("disabled")&&!a.prop("checked")?c="off_disabled":a.prop("checked")&&(c="on"),null!==c&&this._changeStatus(b,c)},b.prototype._changeStatus=function(a,b){var c=null;if("text"===this.options.type){var d=null,e=null,f=null;switch(b){case"off":d=this.options.borderColor,e=this.options.backgroundColor,f=this.options.color;break;case"off_hover":d=this.options.borderColor,e=this.options.selectedBackgroundColor,f=this.options.selectedColor;break;case"on":d=this.options.selectedBorderColor,e=this.options.selectedBackgroundColor,f=this.options.selectedColor;break;case"on_hover":d=this.options.selectedBorderColor,e=this.options.selectedBackgroundColor,f=this.options.selectedColor;break;case"off_disabled":d=this.options.disableBorderColor,e=this.options.disableBackgroundColor,f=this.options.disableColor;break;case"on_disabled":d=this.options.disableBorderColor,e=this.options.disableBackgroundColor,f=this.options.disableColor}c={borderColor:d,backgroundColor:e,color:f}}else{var g=null,h=this.options.width+10;switch(b){case"off":g="0 0";break;case"off_hover":g="0 -"+h+"px";break;case"on":g="0 -"+2*h+"px";break;case"on_hover":g="0 -"+3*h+"px";break;case"off_disabled":g="0 -"+4*h+"px";break;case"on_disabled":g="0 -"+5*h+"px"}c={backgroundPosition:g}}a.css(c)},b.prototype._checkStatus=function(a,b){if(!a.prop("disabled")){var c="off";a.is(":checked")&&(c="on"),this._changeStatus(b,c)}},b.prototype._checkStatusWithHover=function(a,b){if(!a.prop("disabled")){var c="off_hover";a.is(":checked")&&(c="on_hover"),this._changeStatus(b,c)}},c.prototype=new b,c.prototype._changeTrigger=function(a,b){var c=null;c=a.prop("disabled")?a.is(":checked")?"on_disabled":"off_disabled":a.is(":checked")?"on":"off",this._changeStatus(b,c)},c.prototype._event=function(a,b){var c=this;b.on("click mouseover",function(){c._checkStatusWithHover(a,b)}).on("mouseleave",function(){c._checkStatus(a,b)}),a.on("click focus",function(){c._checkStatusWithHover(a,b)}).on("blur",function(){c._checkStatus(a,b)}).on("change",function(){c._changeTrigger(a,b)})},d.prototype=new b,d.prototype._checkStatusWithClick=function(b,c,d){var e=this;if(!b.prop("disabled")){var f=null;a('input[name="'+d+'"]').each(function(b){f=a(this).prop("disabled")?"off_disabled":"off",e._changeStatus(a("label[for="+a(this).attr("id")+"]"),f)}),f="off_hover",b.is(":checked")&&(f="on_hover"),this._changeStatus(c,f)}},d.prototype._changeTrigger=function(b,c,d){var e=this,f=null;a('input[name="'+d+'"]').each(function(b){f=!a(this).prop("disabled")&&a(this).is(":checked")?"on":a(this).prop("disabled")||a(this).is(":checked")?"off_disabled":"off",e._changeStatus(a("label[for="+a(this).attr("id")+"]"),f)}),b.prop("disabled")?b.is(":checked")&&this._changeStatus(c,"on_disabled"):b.is(":checked")&&this._changeStatus(c,"on")},d.prototype._event=function(a,b){var c=this,d=a.attr("name");b.on("click",function(){c._checkStatusWithClick(a,b,d)}).on("mouseover",function(){c._checkStatusWithHover(a,b)}).on("mouseleave",function(){c._checkStatus(a,b)}),a.on("click",function(){c._checkStatusWithClick(a,b,d)}).on("focus",function(){c._checkStatusWithHover(a,b)}).on("blur",function(){c._checkStatus(a,b)}).on("change",function(){c._changeTrigger(a,b,d)})},e.prototype.init=function(){return this._replaceHTML(),this._draw(),this._event(),this.$element},e.prototype._replaceHTML=function(){var a='<div class="file_wrap"><div class="file_text"><div class="ellipsis"></div></div><div class="btn_customize_file">';"text"!==this.options.buttonType&&"bg_sprite"!==this.options.buttonType||(a+='<span class="text">'+this.options.buttonText+"</span>"),a+='<input type="file" class="customizeFile" name="'+this._$oldElement.attr("name")+'" id="'+this._$oldElement.attr("id")+'" /></div></div>';var b=this._$oldElement.before(a).prev();b.next().remove(),this.options.enableInitButton&&b.children(".file_text").append('<a class="btn_file_init" href="javascript:;" title="file clear"><img src="'+this.options.initButtonBackgroundImage+'" alt="close" /></a>'),this._$wrapElement=b},e.prototype._draw=function(){var a=this._$wrapElement.css({width:this.options.textWidth+this.options.buttonWidth+this.options.buttonSpacing+2*this.options.textPaddingHorizontal+"px",height:this.options.height+"px",lineHeight:this.options.height+"px",marginBottom:this.options.verticalSpacing+"px"}).children("div").css({height:this.options.height+"px",lineHeight:this.options.height+"px"}).closest(".file_wrap").children(".file_text").css({"float":"left",width:this.options.textWidth-2+"px",height:this.options.height-2+"px",padding:this.options.textPaddingVertical+" "+this.options.textPaddingHorizontal+"px",border:this.options.textBorder,position:"relative"}).children(".ellipsis").css({wordBreak:"break-all"}).closest(".file_wrap").children(".btn_customize_file").css({"float":"left",width:this.options.buttonWidth+"px",height:this.options.height+"px",marginLeft:this.options.buttonSpacing+"px",display:"inline",position:"relative",overflow:"hidden"}).find('input[type="file"]').css({position:"absolute",top:0,left:"-90px",zIndex:100,width:this.options.buttonWidth+90+"px",height:this.options.height+"px",opacity:0,filter:"alpha(opacity=0)","-ms-filter":"“alpha(opacity=0)”","-moz-opacity":0,"-khtml-opacity":0,zoom:1,cursor:"pointer",border:"0"}),b=a.parent();if("text"===this.options.buttonType?b.css({background:this.options.buttonBackgroundColor,color:this.options.buttonTextColor}).find(".text").css({position:"absolute",top:0,left:0,zIndex:100,display:"inline-block",width:this.options.buttonWidth+"px",textAlign:"center"}):"bg_sprite"===this.options.buttonType?b.css({color:this.options.buttonTextColor}).find(".text").css({position:"absolute",top:0,left:0,zIndex:100,display:"inline-block",width:this.options.buttonWidth+"px",textAlign:"center"}).addClass(this.options.buttonSpriteClass):"image"===this.options.buttonType&&b.css({background:'url("'+this.options.buttonBackgroundImage+'") no-repeat'}),this.options.enableInitButton){var c=a.closest(".file_wrap").children(".file_text");c.css({width:this.options.textWidth-17+"px",padding:this.options.textPaddingVertical+" 20px "+this.options.textPaddingVertical+" "+this.options.textPaddingHorizontal+"px"}).children(".btn_file_init").css({position:"absolute",top:"0",right:"5px",display:"none"}).children("img").css({verticalAlign:"middle"})}this.$element=a},e.prototype._event=function(){var b=this;this.$element.change(function(){var c=a(this).closest(".file_wrap").children(".file_text");if(c.children(".ellipsis").text(a(this).val()).attr("title",a(this).val()).ellipsis({position:b.options.ellipsisPosition}),b.options.enableInitButton){var d=c.children(".btn_file_init");null===a(this).val()||""===a(this).val()?d.hide():d.show()}}),this.options.enableInitButton&&this.$element.closest(".file_wrap").children(".file_text").children(".btn_file_init").on("click",function(){a(this).closest(".file_text").children(".ellipsis").text("");var b=a(this).closest(".file_wrap").children(".btn_customize_file").children(".customizeFile");b.val(""),a(this).hide()})},f.prototype.init=function(){var b=this;return this._draw(),this.$element.each(function(c){var d=a(this),e=d.prev(".custom_select");b._changeStatus(d,e),b._event(d,e)})},f.prototype._draw=function(){var b=a("<span></span>").css({color:this.options.color,width:this.options.width+"px",padding:"0 "+this.options.paddingHorizontal+"px",height:this.options.height+"px",lineHeight:this.options.height+"px",fontSize:this.options.fontSize+"px",overflow:"hidden",position:"absolute"}).addClass("custom_select");this.$element.css({width:this.options.width+2*this.options.paddingHorizontal+"px",height:this.options.height+"px",lineHeight:this.options.height-4+"px",position:"relative",opacity:0,filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0,zIndex:100}).before(b)},f.prototype._changeStatus=function(a,b){var c=this.options.initClass,d=this.options.color;a.prop("disabled")&&(c=this.options.disableClass,d=this.options.disableColor),b.removeClass(this.options.initClass).removeClass(this.options.focusClass).removeClass(this.options.disableClass).addClass(c).text(a.find(":selected").html()).css({color:d})},f.prototype._event=function(b,c){var d=this;a(document).bind("changeSelectValue",function(a,b,c){var d=b.find("option:selected").html();c.html(d)}),b.on("click keyup",function(){a(document).trigger("changeSelectValue",[b,c])}).on("focus",function(){var e=d.options.hoverColor;b.prop("disabled")&&(e=d.options.disableColor),c.addClass(d.options.focusClass).css({color:e}),a(document).trigger("changeSelectValue",[b,c])}).on("blur",function(){var a=d.options.color;b.prop("disabled")&&(a=d.options.disableColor),c.removeClass(d.options.focusClass).css({color:a})}).on("change",function(){d._changeStatus(b,c),a(document).trigger("changeSelectValue",[b,c]),b.trigger("blur")})},a.fn.customizeCheckbox=function(b){return new c(a(this),b)},a.fn.customizeRadio=function(b){return new d(a(this),b)},a.fn.customizeFile=function(b){return new e(a(this),b)},a.fn.customizeSelect=function(b){return new f(a(this),b)}});